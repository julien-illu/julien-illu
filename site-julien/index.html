<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Julien Landry – Dessin & Peinture</title>
  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    body { font-family: 'Inter', sans-serif; background: #fdfdfc; color: #2b2b2b; line-height: 1.6; font-size: 1.05rem; }
    h1,h2,h3 { font-family: 'Playfair Display', serif; margin-bottom: 15px; font-weight: 600; }
    section { max-width: 900px; margin: 60px auto; padding: 0 20px; }
    h2 { text-align:center; margin-bottom:20px; position:relative; }
    h2::after { content:""; display:block; width:60px; height:3px; margin:10px auto 0; background:#c89b3c; border-radius:2px; }

    header { background:#1e1e24; color:#fff; padding:40px 20px; text-align:center; }
    header h1 { font-size:2.2rem; letter-spacing:1px; }
    header p { opacity:0.85; }
    nav { margin-top:15px; }
    nav a { color:white; margin:0 12px; text-decoration:none; font-weight:600; transition: color .25s; }
    nav a:hover { color:#c89b3c; }
    .header-content { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 15px; }
    .profile-pic { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 2px solid #c89b3c; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }

    footer { background:#1e1e24; color:white; text-align:center; padding:25px; margin-top:60px; font-size:0.9rem; opacity:0.85; }

    button { background:#c89b3c; color:white; padding:12px 18px; border:none; border-radius:8px; cursor:pointer; font-weight:600; letter-spacing:0.5px; transition:background .25s, transform .15s; box-shadow:0 3px 6px rgba(0,0,0,0.12); }
    button:hover { background:#a37b2c; transform:translateY(-2px); }
    button:disabled { opacity:0.6; cursor:not-allowed; }

    form input, form textarea { width:100%; padding:12px 14px; margin:8px 0; font-family:inherit; font-size:1rem; border:1px solid #ddd; border-radius:6px; transition:border .2s, box-shadow .2s; }
    form input:focus, form textarea:focus { border-color:#c89b3c; box-shadow:0 0 0 3px rgba(200,155,60,0.2); outline:none; }
    textarea.auto-expand { min-height:80px; max-height:500px; resize:none; overflow:hidden; }

    .gallery, .book-previews { display:grid; gap:25px; margin-top:25px; }
    .gallery { grid-template-columns: repeat(auto-fit, minmax(300px,1fr)); }
    .book-previews { grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); }
    .preview { position:relative; border-radius:12px; overflow:hidden; background:#f5f5f5; aspect-ratio:4/5; box-shadow:0 4px 10px rgba(0,0,0,0.08); }
    .preview img { width:100%; height:100%; object-fit:cover; display:block; transition: transform .4s, filter .3s; }
    .preview:hover img { transform:scale(1.07); filter:brightness(0.9); }
    .overlay { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; color:#fff; font-size:1.5rem; font-weight:700; text-shadow:0 3px 8px rgba(0,0,0,0.6); background:rgba(0,0,0,0.45); opacity:0; transition:opacity .3s ease; }
    .preview:hover .overlay { opacity:1; }

    .size-options { margin:15px 0; display:flex; flex-wrap:wrap; gap:12px; }
    .size-options button { display:flex; gap: 12px; justify-content:flex-start; }
    .size-options button.active { background:#a37b2c; }

    .frame-option label { font-size:16px; display:inline-flex; justify-content:flex-start; align-items:center; gap:8px; }

    #confirmation { display:none; margin:12px 0; padding:12px; background:#e6f6ea; color:#155724; border:1px solid #c3e6cb; border-radius:6px; font-weight:600; text-align:center; }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <img src="images/caca.png" alt="Photo de profil Julien Landry" class="profile-pic">
      <div>
        <h1>Julien Landry</h1>
        <p>Dessin & Peinture – Cours et commandes</p>
      </div>
    </div>
    <nav>
      <a href="#cours">Cours</a>
      <a href="#commandes">Commandes</a>
      <a href="#book">Book</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <section id="cours">
    <h2>Cours de dessin & peinture</h2>
    <p>Je propose des cours de dessin et de peinture à <strong>17€ / heure</strong>.</p>
    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
      <input type="hidden" name="cmd" value="_xclick">
      <input type="hidden" name="business" value="landryjulien47@gmail.com">
      <input type="hidden" name="item_name" value="Cours de dessin & peinture">
      <input type="hidden" name="amount" value="17.00">
      <input type="hidden" name="currency_code" value="EUR">
      <button type="submit">Acheter un cours (17€)</button>
    </form>
  </section>

  <!-- Section fusionnée Commandes + Tarifs -->
  <section id="commandes-tarifs">
    <h2>Commandes personnalisées & Tarifs</h2>
    <p>Je réalise des dessins sur commande :</p>
    <ul>
      <li>Portraits (en personne ou d’après photo)</li>
      <li>Paysages</li>
      <li>Natures mortes</li>
      <li>Autres requêtes selon imagination</li>
    </ul>
    <p>Sans cadre ou avec cadre (ajouter le prix du cadre).</p>
    <p style="margin-bottom:30px;">Envoi rapide et soigné sous papier bulle, ou remise gratuite en main propre à Paris et proche banlieue.</p>
    
    <form id="commande-form">
      <p>Sélectionnez la taille souhaitée pour votre dessin :</p>
      <div class="size-options">
        <button type="button" data-name="Petit format – Dessin sur commande" data-price="100" class="active">Petit</button>
        <button type="button" data-name="Moyen format – Dessin sur commande" data-price="150">Moyen</button>
        <button type="button" data-name="Grand format – Dessin sur commande" data-price="200">Grand</button>
      </div>

      <div class="frame-option">
        <label>
          <input type="checkbox" id="encadre" data-extra="20">
          Encadré
        </label>
      </div>

      <p>Prix : <span id="price-display">100€</span></p>

      <label for="request">Votre demande :</label>
      <textarea name="request" class="auto-expand" placeholder="Décrivez votre illustration..." required></textarea>

      <label for="email">Votre email :</label>
      <input type="email" name="email" placeholder="Votre email" required>

      <input type="hidden" name="size" value="Petit format – Dessin sur commande">

      <input type="hidden" name="_subject" value="Nouvelle commande dessin">
      <input type="hidden" name="_autoresponse" value="Merci pour votre commande, je vous répondrai bientôt.">

      <button type="submit">Envoyer & Payer</button>
    </form>
  </section>

  <section id="book" class="book">
    <h2>Mon Book</h2>
    <p>Voir mes œuvres par catégorie :</p>
    <div class="book-previews">
      <div class="preview">
        <a href="paysages.html" aria-label="Voir Paysages">
          <img src="images/paysage_preview.jpg" alt="Aperçu Paysages">
          <div class="overlay">Paysages</div>
      </a>
      </div>
      <div class="preview">
        <a href="portraits.html" aria-label="Voir Portraits">
          <img src="images/portrait_preview.jpg" alt="Aperçu Portraits">
          <div class="overlay">Portraits</div>
        </a>
      </div>
      <div class="preview">
        <a href="imagination.html" aria-label="Voir Créations imaginaires">
          <img src="images/2D2B_LANDRY_Julien_applat_retake.png" alt="Aperçu Créations imaginaires">
          <div class="overlay">Créations imaginaires</div>
        </a>
      </div>
    </div>
  </section>

  <section id="contact">
    <h2>Contact</h2>
    <p>Pour toute question ou commande :</p>
    <form action="https://formspree.io/f/mblaqyvy" method="POST">
      <input type="text" name="name" placeholder="Votre nom" required>
      <input type="email" name="email" placeholder="Votre email" required>
      <textarea name="message" rows="5" placeholder="Votre message" required></textarea>
      <button type="submit">Envoyer</button>
    </form>
  </section>

  <footer>
    <p>© 2025 Julien Landry – Tous droits réservés</p>
  </footer>

  <script>
    document.addEventListener('input', function (event) {
      if (event.target.tagName.toLowerCase() !== 'textarea') return;
      const ta = event.target;
      ta.style.height = 'auto';
      ta.style.height = ta.scrollHeight + 'px';
    });

    const sizeButtons = document.querySelectorAll('.size-options button');
    const priceDisplay = document.getElementById('price-display');
    const form = document.getElementById('commande-form');
    const encadreCheckbox = document.getElementById('encadre');

    function updatePrice() {
      let activeBtn = document.querySelector('.size-options button.active');
      let basePrice = parseInt(activeBtn.dataset.price);
      if(encadreCheckbox.checked){
        basePrice += parseInt(encadreCheckbox.dataset.extra);
      }
      priceDisplay.textContent = basePrice + '€';
      form.dataset.price = basePrice;
    }

    sizeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        sizeButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        form.querySelector('input[name="size"]').value = btn.dataset.name;
        updatePrice();
      });
    });

    encadreCheckbox.addEventListener('change', updatePrice);
    updatePrice();

    form.addEventListener('submit', async function(e){
      e.preventDefault();
      const requestText = form.querySelector('textarea[name="request"]').value.trim();
      const emailText = form.querySelector('input[name="email"]').value.trim();
      const sizeText = form.querySelector('input[name="size"]').value;
      const priceText = form.dataset.price || "100";

      if(!requestText || !emailText){
        alert("Merci de remplir votre email et de décrire votre demande.");
        return;
      }

      try {
        await fetch("https://formspree.io/f/mblaqyvy", {
          method: "POST",
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            email: emailText,
            request: requestText,
            size: sizeText,
            encadre: encadreCheckbox.checked ? "Oui" : "Non",
            _subject: "Nouvelle commande dessin"
          })
        });
      } catch(err){
        console.error("Erreur Formspree", err);
      }

      const paypalUrl = new URL("https://www.paypal.com/cgi-bin/webscr");
      paypalUrl.searchParams.set("cmd","_xclick");
      paypalUrl.searchParams.set("business","landryjulien47@gmail.com");
      paypalUrl.searchParams.set("item_name", sizeText + (encadreCheckbox.checked ? " + Encadré" : "") + " — Note client : " + requestText);
      paypalUrl.searchParams.set("amount", priceText);
      paypalUrl.searchParams.set("currency_code","EUR");

      window.open(paypalUrl.toString(), "_blank");
      location.reload();
    });
  </script>
</body>
</html>
